# kotlin & docker & yaml & env
Данный пример создает файл с названием _текущая дата и время_.
Далее каждые 5 секунд пишет в этот файл текущую дату и время.

Данный пример разработан для использования внутри docker контейнера.

## Настройка
1. В файле `.env` нужно настроить переменные:
   * `LOG_PATH_HOST` - путь хранения логов в хост машине
   * `LOG_PATH_CONTAINER` - путь хранения логов в контейнере. Содержимое этой 
   папки копируется в хост машину. _При старте контейнера содержимое этой папки в 
   контейнере неявно удаляется докером_
2. В IntelliJ Idea справа во вкладке Gradle найти `<prj_name>/Tasks/build/jar` (рядом нарисована шестеренка)
3. Далее надо дважды нажать на `jar` и в папке с проектом создастся исполняемый файл
   `./build/libs/*.jar`
4. В Dockerfile поменять путь до файла в пункте выше   
5. Для сборки образа из файла docker-compose необходимо перейти в корневую папку проекта
   и после этого выполнить команду 
   * `docker-compose build`
6. Для запуска контейнера необходимо использовать команду
   * `docker-compose up`
7. Для выхода и остановки контейнера необходимо использовать команду
   * `ctrl + c`
   
## Прочие команды
* Для запуска контейнера в фоновом режиме необходимо использовать команду
   * `docker-compose up -d`
* Для входа в консоль контейнера необходимо использовать команду
   * `docker exec -t -i mycontainer /bin/bash`
* Для выхода из консоли контейнера необходимо использовать команду
   * `ctrl + z`
* Для остановки контейнера необходимо использовать команду
   * НУЖНО ПРОВЕРИТЬ `docker-compose stop`
   * `docker stop kotlin_logger`
* Для остановки и удаления контейнера необходимо использовать команду
   * `docker-compose down`
* Для просмотра логов нужно выполнить 
   * `docker-compose logs`
